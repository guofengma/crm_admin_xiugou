webpackJsonp([157],{"9lzA":function(a,t){},GEws:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("UU1J"),n=e("FMx0"),o=e("GVVA"),i={components:{vBreadcrumb:n.a,icon:r.a},data:function(){return{form:{name:"",imgUrl:"",area:"",status:"1"},detailData:[],btnLoading:!1,classifyId:[],checkAll:!1,rules:{name:[{required:!0,message:"请输入品牌名称",trigger:"blur"}],area:[{required:!0,message:"请输入品牌区域",trigger:"blur"}]},id:"",addBrand:""}},activated:function(){this.id=this.$route.query.brandId||sessionStorage.getItem("brandId"),this.getDetail()},methods:{getDetail:function(){var a=this,t={id:a.id};a.loading=!0,o.a.findProductBrand(t).then(function(t){a.loading=!1,a.form=t.data,a.form.status=a.form.status.toString()}).catch(function(t){a.loading=!1})},handlePreview:function(a){console.log(a)},handleAvatarSuccess:function(a,t){this.form.imgUrl=a.data.imageUrl},handleRemove:function(){this.form.original_img=""},submitForm:function(a){var t=this,e=this;e.btnLoading=!0,e.$refs[a].validate(function(r){if(!r)return console.log("error submit!!"),e.btnLoading=!1,!1;var n=t[a];n.status=t[a].status,n.id=e.id,o.a.updateProductBrand(n).then(function(a){e.$router.push("/brandManage"),e.btnLoading=!1}).catch(function(a){console.log(a),e.btnLoading=!1})})},cancel:function(){this.$router.push("/brandManage")}}},l={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("v-breadcrumb",{attrs:{nav:["品牌产品管理","品牌管理","编辑品牌"]}}),a._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"brand-box"},[e("el-form",{ref:"form",attrs:{model:a.form,rules:a.rules}},[e("el-form-item",{attrs:{prop:"name",label:"品牌名称"}},[e("el-input",{attrs:{placeholder:"请输入品牌名称"},model:{value:a.form.name,callback:function(t){a.$set(a.form,"name",t)},expression:"form.name"}})],1),a._v(" "),e("el-form-item",{attrs:{prop:"area",label:"品牌区域"}},[e("el-input",{attrs:{placeholder:"请输入品牌区域"},model:{value:a.form.area,callback:function(t){a.$set(a.form,"area",t)},expression:"form.area"}})],1),a._v(" "),e("el-form-item",{attrs:{prop:"original_img",label:"品牌logo"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/admin/ossClient/aliyunOSSUploadImage","show-file-list":!1,"on-preview":a.handlePreview,"on-remove":a.handleRemove,"on-success":a.handleAvatarSuccess}},[a.form.imgUrl?e("img",{staticClass:"avatar",attrs:{src:a.form.imgUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),a._v(" "),e("el-input",{model:{value:a.form.imgUrl,callback:function(t){a.$set(a.form,"imgUrl",t)},expression:"form.imgUrl"}})],1)],1),a._v(" "),e("el-form-item",{attrs:{prop:"status",label:"是否启用"}},[e("el-radio-group",{model:{value:a.form.status,callback:function(t){a.$set(a.form,"status",t)},expression:"form.status"}},[e("el-radio",{attrs:{label:"1"}},[a._v("启用")]),a._v(" "),e("el-radio",{attrs:{label:"2"}},[a._v("停用")])],1)],1),a._v(" "),e("div",{staticClass:"submit-btn"},[e("el-button",{attrs:{type:"primary",loading:a.btnLoading},on:{click:function(t){a.submitForm("form")}}},[a._v("确认保存")]),a._v(" "),e("el-button",{on:{click:a.cancel}},[a._v("取消")])],1)],1)],1)])],1)},staticRenderFns:[]};var s=e("VU/8")(i,l,!1,function(a){e("9lzA")},null,null);t.default=s.exports}});