webpackJsonp([150],{Xzr9:function(t,e){},qu54:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("FMx0"),r=i("9Vdu"),s=(i("F30e"),{components:{vBreadcrumb:a.a},data:function(){return{giftId:"",giftName:"",spanRow:"16",tableTit:[],tableData:[]}},activated:function(){this.giftId=this.$route.query.priceOfInventoryId||sessionStorage.getItem("priceOfInventoryId"),this.tableTit=[],this.tableData=[],this.getReferencePrice()},methods:{getPrice:function(){var t=this;this.$axios.post(r.x,{id:this.giftId}).then(function(e){t.tableTit[1].price=e.data.data.originalPrice,t.tableTit[2].price=e.data.data.v1,t.tableTit[3].price=e.data.data.v2,t.tableTit[4].price=e.data.data.v3,t.tableTit[5].price=e.data.data.v4,t.tableTit[6].price=e.data.data.groupPrice,t.tableTit[7].price=e.data.data.minPayment,t.tableTit[8].price=e.data.data.settlementPrice})},submitForm:function(){var t=this;if(this.tableTit[1].price>=this.tableTit[2].price&&this.tableTit[2].price>=this.tableTit[3].price&&this.tableTit[3].price>=this.tableTit[4].price&&this.tableTit[4].price>=this.tableTit[5].price&&this.tableTit[5].price>=this.tableTit[6].price&&this.tableTit[6].price>=this.tableTit[7].price&&this.tableTit[7].price>=this.tableTit[8].price){var e={};e.id=this.giftId,e.originalPrice=this.tableTit[1].price,e.firstLevelPrice=this.tableTit[2].price,e.secondLevelPrice=this.tableTit[3].price,e.threeLevelPrice=this.tableTit[4].price,e.fourLevelPrice=this.tableTit[5].price,e.groupPrice=this.tableTit[6].price,e.minPayment=this.tableTit[7].price,e.settlementPrice=this.tableTit[8].price,this.$axios.post(r.r,e).then(function(e){t.$message.success(e.data.msg),t.$router.push("giftManage")})}else this.$message.warning("请输入正确的值")},getReferencePrice:function(){var t=this;this.$axios.post(r.z,{id:this.giftId}).then(function(e){t.giftName=e.data.data.giftBagName,t.tableTit=e.data.data.title,t.tableData=e.data.data.name,t.spanRow=t.tableData.length,t.getPrice()})},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(t.columnIndex>0)return 0===e?{rowspan:this.spanRow,colspan:1}:{rowspan:0,colspan:0}},goBack:function(){this.$router.push("giftManage")}}}),c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"price-of-inventory"},[i("v-breadcrumb",{attrs:{nav:["品牌产品管理","礼包管理","价格库存管理"]}}),t._v(" "),i("el-card",{attrs:{"body-style":{padding:"30px"}}},[i("p",[t._v("礼包名称："),i("el-input",{staticClass:"my-inp",attrs:{disabled:""},model:{value:t.giftName,callback:function(e){t.giftName=e},expression:"giftName"}})],1),t._v(" "),i("div",{staticClass:"manage-title"},[t._v("售价设置")]),t._v(" "),i("el-table",{attrs:{data:t.tableData,border:"","span-method":t.objectSpanMethod}},t._l(t.tableTit,function(e,a){return i("el-table-column",{key:a,attrs:{prop:e.prop,label:e.name,align:"center"}},[t._v("\n              "+t._s(t.tableData[a])+"\n            ")])})),t._v(" "),i("div",{staticClass:"set-price"},[i("div",{staticClass:"set-price-tit",staticStyle:{"min-width":"100px"}},[t._v("礼包价")]),t._v(" "),t._l(t.tableTit,function(e,a){return a>0?i("div",{key:a,staticClass:"price-item"},[i("div",{staticClass:"top"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"bot"},[i("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,controls:!1},model:{value:e.price,callback:function(i){t.$set(e,"price",i)},expression:"v.price"}})],1)]):t._e()})],2),t._v(" "),i("div",{staticClass:"btn-group"},[i("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("保存")]),t._v(" "),i("el-button",{on:{click:t.goBack}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var n=i("VU/8")(s,c,!1,function(t){i("Xzr9")},"data-v-65ec44f3",null);e.default=n.exports}});