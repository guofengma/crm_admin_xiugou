webpackJsonp([33],{D6SP:function(e,t){},O2kr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("FMx0"),i=a("EkIv"),s=a("n1Da"),l=(a("0xDb"),a("xnHa")),o=a("GVVA"),r={components:{vBreadcrumb:n.a,deleteToast:i.a},mixins:[l.b],data:function(){return{nav:["运营管理","帮助中心管理"],isShowAddQues:!1,addQuesTypeBtn:!1,tableData:[],height:"100vh",questionType:"",imgUrl:"",delId:"",delUrl:"",delUri:"",isShowDelToast:!1}},activated:function(){this.height=window.screen.availHeight-400,this.getList()},methods:{getList:function(){var e=this,t={page:this.page.currentPage,pageSize:this.page.pageSize};o.a.queryHelpTypePageList(t).then(function(t){e.tableData=[],e.tableData=t.data.data,e.page.totalPage=t.data.totalNum}).catch(function(e){console.log(e)})},addQuestionCate:function(){this.isShowAddQues=!0,this.questionType=""},confirmAddQuesType:function(){var e=this;this.addQuesTypeBtn=!0;var t={name:this.questionType,imgUrl:"34234234"};o.a.addHelpType(t).then(function(t){e.getList(e.page.currentPage),e.addQuesTypeBtn=!1,e.isShowAddQues=!1}).catch(function(t){console.log(t),e.addQuesTypeBtn=!1,e.isShowAddQues=!1})},questionList:function(e){sessionStorage.setItem("questionTypeId",e.id),this.$router.push({name:"questionList",query:{questionTypeId:e.id}})},deleteUser:function(e){this.delId=e.id,this.delUrl="deleteHelpType",this.delUri=s.b,this.isShowDelToast=!0},deleteToast:function(e){this.isShowDelToast=e,this.getList(this.page.currentPage)},handleAvatarSuccess:function(e,t){this.imgUrl=e.data.imageUrl}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"help-center"},[a("v-breadcrumb",{attrs:{nav:e.nav}}),e._v(" "),a("el-card",{attrs:{"body-style":{padding:"30px 60px"}}},[a("el-button",{attrs:{type:"primary"},on:{click:e.addQuestionCate}},[e._v("添加问题类目")]),e._v(" "),a("el-table",{staticStyle:{"margin-top":"20px"},attrs:{data:e.tableData,border:"",height:e.height}},[a("el-table-column",{attrs:{prop:"id",label:"编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"问题类目",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"图片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:e.row.imgUrl,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"问题数量",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){e.questionList(t.row)}}},[e._v("问题列表")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){e.deleteUser(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","current-page":e.page.currentPage,layout:"total, prev, pager, next, jumper",total:e.page.totalPage},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加问题类目",visible:e.isShowAddQues,width:"40%"},on:{"update:visible":function(t){e.isShowAddQues=t}}},[a("div",{staticClass:"add-item"},[a("span",[e._v("问题类型")]),e._v(" "),a("el-input",{staticClass:"input-sty",attrs:{placeholder:"请输入问题类型"},model:{value:e.questionType,callback:function(t){e.questionType=t},expression:"questionType"}})],1),e._v(" "),a("div",{staticClass:"add-item"},[a("span",[e._v("选择图片")]),e._v(" "),a("el-input",{attrs:{readonly:"","auto-complete":"off"},model:{value:e.imgUrl,callback:function(t){e.imgUrl=t},expression:"imgUrl"}}),e._v(" "),a("el-upload",{staticClass:"icon-uploader",attrs:{action:"/common/upload/oss","on-success":e.handleAvatarSuccess}},[a("el-button",{attrs:{size:"small",type:"primary"}},[a("i",{staticClass:"el-icon-upload"}),e._v("添加图片")])],1)],1),e._v(" "),a("span",{staticStyle:{"margin-left":"60px",color:"#aaa","font-size":"12px"}},[e._v("请上传3M以内jpg,jpeg,png格式的图片")]),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.addQuesTypeBtn},on:{click:e.confirmAddQuesType}},[e._v("添 加")]),e._v(" "),a("el-button",{on:{click:function(t){e.isShowAddQues=!1}}},[e._v("取 消")])],1)]),e._v(" "),e.isShowDelToast?a("delete-toast",{attrs:{id:e.delId,url:e.delUrl,uri:e.delUri},on:{msg:e.deleteToast}}):e._e()],1)],1)},staticRenderFns:[]};var d=a("VU/8")(r,u,!1,function(e){a("D6SP")},null,null);t.default=d.exports},n1Da:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return i});var n="/admin/helpType/deleteHelpType",i="/admin/helpQuestion/deleteHelpQuestion"}});