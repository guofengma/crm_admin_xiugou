webpackJsonp([162],{G4x7:function(e,t){},e3u7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("woOf"),r=a.n(s),i=a("FMx0"),o=a("UU1J"),d=a("tF3a"),n=a("EkIv"),l=a("GVVA"),c={components:{vBreadcrumb:i.a,icon:o.a,region:d.a,deleteToast:n.a},data:function(){return{address:"",form:{receiver:"",recevicePhone:"",country:"1"},addForm:{receiver:"",recevicePhone:""},addMask:!1,editMask:!1,id:"",itemId:"",tableData:[],page:{currentPage:1,totalPage:0},height:"",isShowDelToast:!1,btnLoading:!1,areaDisabled:!0,itype:"",provinceCode:"",cityCode:"",areaCode:""}},created:function(){var e=window.screen.availHeight-520;this.height=e},activated:function(){this.getList()},methods:{getRegion:function(e){this.address=e},getList:function(){var e=this;e.tableLoading=!0,l.a.queryReturnAddressList({}).then(function(t){e.tableLoading=!1,e.tableData=t.data}).catch(function(t){e.tableLoading=!1,console.log(t)})},addAddress:function(){this.addMask=!0,this.addForm.receiver="",this.addForm.recevicePhone="",this.addForm.country="1",this.addForm.address="",this.itype="add",this.areaDisabled=!0},changeArea:function(){"add"===this.itype?this.areaDisabled=1==this.addForm.country:this.areaDisabled=1==this.form.country},editItem:function(e){this.editMask=!0,e.country="1",this.form=e,this.form.recevicePhone=e.recevicePhone,this.itemId=e.id,this.itype="edit";var t=[];t.push(Number(this.form.provinceCode),Number(this.form.cityCode),Number(this.form.areaCode)),this.address=t},addOrEdit:function(e){var t=this,a="",s={};if(s.receiver=this[e].receiver,s.recevicePhone=this[e].recevicePhone,s.provinceCode=this.address[0],s.cityCode=this.address[1],s.areaCode=this.address[2],s.address=this[e].address,1!=s.country||this.address[0]&&this.address[1]&&this.address[2])if(s.address)if(s.receiver)if(s.recevicePhone){if(!/^(1[3-8]\d{9}|^\d{3}-?\d{8}|^\d{4}-?\d{7})$/.test(s.recevicePhone))return this.$message.warning("请输入正确的联系方式!"),!1;"add"===this.itype?a="addReturnAddress":(a="modifyReturnAddress",s.id=this.itemId),this.btnLoading=!0,l.a[a](s).then(function(e){t.$message.success(e.msg),t.btnLoading=!1,t.addMask=!1,t.editMask=!1,t.getList(t.page.currentPage)}).catch(function(e){t.btnLoading=!1,console.log(e)})}else this.$message.warning("请输入联系方式!");else this.$message.warning("请输入联系人!");else this.$message.warning("请输入详细地址!");else this.$message.warning("请选择省市区!")},delItem:function(e){this.delId=e,this.delUrl="deleteReturnAddress",this.delUri="/dashboard",this.isShowDelToast=!0},deleteToast:function(e){this.isShowDelToast=e,this.getList()},cancel:function(){this.addMask=!1,this.editMask=!1,this.getList()},openOrCloseItem:function(e,t){var a=this,s={};r()(s,e),s.status=t,l.a.modifyReturnAddress(s).then(function(e){a.$message.success(e.msg),a.getList(a.page.currentPage),console.log(e)}).catch(function(e){console.log(e)})}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"delivery-address"},[a("v-breadcrumb",{attrs:{nav:["运营管理","寄回地址管理"]}}),e._v(" "),a("div",{staticClass:"table-block"},[a("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary"},on:{click:e.addAddress}},[e._v("添加寄回点")]),e._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.height,border:""}},[a("el-table-column",{attrs:{type:"index",label:"编号",width:"60",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"详细地址",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[[e._v(e._s(t.row.provinceCode)+e._s(t.row.address))]]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"receiver",label:"联系人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recevicePhone",label:"联系方式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.status?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.openOrCloseItem(t.row,1)}}},[e._v("开启\n                        ")]):e._e(),e._v(" "),1==t.row.status?a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.openOrCloseItem(t.row,2)}}},[e._v("关闭\n                        ")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(a){e.editItem(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.delItem(t.row.id)}}},[e._v("删除")])]}}])})],1)]],2),e._v(" "),a("el-dialog",{attrs:{title:"添加寄回点",visible:e.addMask},on:{"update:visible":function(t){e.addMask=t}}},[a("el-form",{attrs:{"label-width":"100px"},model:{value:e.addForm,callback:function(t){e.addForm=t},expression:"addForm"}},[a("el-form-item",{staticClass:" address-area",attrs:{label:"详细地址"}},[a("el-select",{staticClass:"small-inp",on:{change:e.changeArea},model:{value:e.addForm.country,callback:function(t){e.$set(e.addForm,"country",t)},expression:"addForm.country"}},[a("el-option",{attrs:{label:"中国",value:"1"}},[e._v("中国")])],1),e._v(" "),a("div",{staticClass:"address"},[a("region",{attrs:{regionMsg:e.address,isDisabled:!e.areaDisabled},on:{regionMsg:e.getRegion}})],1),e._v(" "),a("el-input",{staticClass:"lar-inp",attrs:{placeholder:"请输入详细地址",size:"medium"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入联系人"},model:{value:e.addForm.receiver,callback:function(t){e.$set(e.addForm,"receiver",t)},expression:"addForm.receiver"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系方式"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入联系方式"},model:{value:e.addForm.recevicePhone,callback:function(t){e.$set(e.addForm,"recevicePhone",t)},expression:"addForm.recevicePhone"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addOrEdit("addForm")}}},[e._v("确 认")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑寄回点",visible:e.editMask},on:{"update:visible":function(t){e.editMask=t}}},[a("el-form",{attrs:{"label-width":"100px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("el-form-item",{staticClass:" address-area",attrs:{label:"详细地址"}},[a("el-select",{staticClass:"small-inp",on:{change:e.changeArea},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}},[a("el-option",{attrs:{label:"中国",value:"1"}},[e._v("中国")])],1),e._v(" "),a("div",{staticClass:"address"},[a("region",{attrs:{regionMsg:e.address,isDisabled:!e.areaDisabled},on:{regionMsg:e.getRegion}})],1),e._v(" "),a("el-input",{staticClass:"lar-inp",attrs:{placeholder:"请输入详细地址",size:"medium"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入联系人"},model:{value:e.form.receiver,callback:function(t){e.$set(e.form,"receiver",t)},expression:"form.receiver"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系方式"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入联系方式"},model:{value:e.form.recevicePhone,callback:function(t){e.$set(e.form,"recevicePhone",t)},expression:"form.recevicePhone"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addOrEdit("form")}}},[e._v("确 认")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),e.isShowDelToast?a("delete-toast",{attrs:{id:e.delId,url:e.delUrl,uri:e.delUri},on:{msg:e.deleteToast}}):e._e()],1)},staticRenderFns:[]};var m=a("VU/8")(c,u,!1,function(e){a("G4x7")},null,null);t.default=m.exports}});