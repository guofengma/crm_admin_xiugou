webpackJsonp([131],{W0Kt:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("FMx0"),s=i("UU1J"),c=(i("P9l9"),i("19nM"),i("GVVA")),d={components:{vBreadcrumb:a.a,icon:s.a},data:function(){return{form:{id:"",name:"",code:"",idCard:"",phone:""},dealerAndUp:{},firstList:[],lower:{totalCount:"",checked:!1},checked:!1,loading:!1}},activated:function(){this.firstList=[],this.lower.totalCount="",this.lower.checked=!1,this.checked=!1,this.id=this.$route.query.memberId||JSON.parse(sessionStorage.getItem("memberId")),this.getDetail()},methods:{getDetail:function(){var e=this,t={id:e.id};e.loading=!0,c.a.findDealerTreeById(t).then(function(t){for(var i in console.log(t),t.data.userAndUp.checked=!1,e.dealerAndUp=t.data.userAndUp,e.lower.totalCount=t.data.totalCount,t.data.firstList){for(var a in t.data.firstList[i].checked=!1,t.data.firstList[i].secList)t.data.firstList[i].secList[a].checked=!1;e.firstList.push(t.data.firstList[i])}e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)})},search:function(){},expandHigher:function(){this.dealerAndUp.checked=!this.dealerAndUp.checked},expandLower:function(){this.lower.checked=!this.lower.checked},expendDirect:function(){this.checked=!this.checked},expendIndirect:function(e){this.firstList[e].checked=!this.firstList[e].checked},toDetail:function(e){localStorage.setItem("memberDetail",e),this.$router.push({path:"/memberDetail",query:{id:e}})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumb",{attrs:{nav:["经销商会员管理","会员管理","会员详情","会员树状图"]}}),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"tree-block"},[a("div",{staticClass:"first-title"},[e.dealerAndUp.up_realname?a("div",{staticClass:"click-area",on:{click:function(t){e.expandHigher()}}},[a("span",[e._v("上级代理")]),e._v(" "),a("i",{class:e.dealerAndUp.checked?"el-icon-caret-bottom":"el-icon-caret-top"})]):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dealerAndUp.checked,expression:"dealerAndUp.checked"}],staticClass:"first-child jump",on:{click:function(t){e.toDetail(e.dealerAndUp.id)}}},[a("div",{staticClass:"img-area"},[e.dealerAndUp.up_head_img?a("img",{attrs:{src:e.dealerAndUp.up_head_img,alt:""}}):a("img",{attrs:{src:i("iQH9"),alt:""}})]),e._v(" "),a("div",{staticClass:"tree-detail-area"},[a("div",[e._v("用户名："+e._s(e.dealerAndUp.up_realname))]),e._v(" "),a("div",[e._v("用户ID："+e._s(e.dealerAndUp.up_id)),a("span",[e._v("授权号："+e._s(e.dealerAndUp.up_code))])])]),e._v(" "),a("div",{staticClass:"clearfix"})])]),e._v(" "),a("div",{staticClass:"first-title",class:e.dealerAndUp.up_realname?"line":""},[a("div",{staticClass:"first-child"},[a("div",{staticClass:"img-area"},[e.dealerAndUp.head_img?a("img",{attrs:{src:e.dealerAndUp.head_img,alt:""}}):a("img",{attrs:{src:i("iQH9"),alt:""}})]),e._v(" "),a("div",{staticClass:"tree-detail-area"},[a("div",[e._v("用户名："+e._s(e.dealerAndUp.realname))]),e._v(" "),a("div",[e._v("用户ID："+e._s(e.dealerAndUp.id)),a("span",[e._v("授权号："+e._s(e.dealerAndUp.code))])])]),e._v(" "),a("div",{staticClass:"clearfix"})])]),e._v(" "),e.firstList?a("div",{staticClass:"first-title"},[a("div",{staticClass:"click-area",on:{click:function(t){e.expandLower()}}},[a("span",[e._v("下级代理")]),e._v(" "),a("span",{staticClass:"count-area"},[e._v(e._s(e.lower.totalCount)+"人")]),e._v(" "),a("i",{class:e.lower.checked?"el-icon-caret-bottom":"el-icon-caret-top"})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.lower.checked,expression:"lower.checked"}]},[a("div",{staticClass:"direct-area"},[a("div",{staticClass:"click-area",on:{click:function(t){e.expendDirect()}}},[a("span",{staticClass:"direct-title"},[e._v("直接代理："),a("span",[e._v(e._s(e.firstList.length))]),e._v("人")]),e._v(" "),a("i",{class:e.checked?"el-icon-caret-bottom":"el-icon-caret-top"})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.checked,expression:"checked"}]},[a("div",e._l(e.firstList,function(t,s){return a("div",[a("div",{staticClass:"direct-item",on:{click:function(i){e.toDetail(t.id)}}},[t.head_img?a("img",{attrs:{src:t.head_img,alt:""}}):a("img",{attrs:{src:i("iQH9"),alt:""}}),e._v(" "),a("span",[e._v("用户名："+e._s(t.realname))]),e._v(" "),a("span",[e._v("用户ID："+e._s(t.id))]),a("span",[e._v("授权号："+e._s(t.code))])]),e._v(" "),a("div",{staticClass:"click-area",on:{click:function(t){e.expendIndirect(s)}}},[a("span",{staticClass:"direct-title"},[e._v("间接代理："),a("span",[e._v(e._s(t.secCount?t.secCount:0))]),e._v("人")]),e._v(" "),a("i",{class:t.checked?"el-icon-caret-bottom":"el-icon-caret-top"})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.checked,expression:"direct.checked"}]},e._l(t.secList,function(t){return a("div",{staticClass:"indirect-area",on:{click:function(i){e.toDetail(t.id)}}},[a("span",[e._v("用户名："+e._s(t.realname))]),e._v(" "),a("span",[e._v("用户ID："+e._s(t.id))]),a("span",[e._v("授权号："+e._s(t.code))])])}))])}))])])])]):e._e()])],1)},staticRenderFns:[]};var r=i("VU/8")(d,n,!1,function(e){i("nFag")},null,null);t.default=r.exports},nFag:function(e,t){}});