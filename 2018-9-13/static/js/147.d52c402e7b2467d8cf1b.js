webpackJsonp([147],{"9mEA":function(e,t){},udOo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("FMx0"),o=n("X3nD"),l=n("4cBs"),a={components:{vBreadcrumb:r.a},data:function(){return{nav:["品牌产品管理","产品管理","价格管理"],btnLoading:!1,productId:"",tableData:[]}},activated:function(){this.productId=this.$route.query.priceManageId||sessionStorage.getItem("priceManage"),this.getProductInfo()},methods:{getProductInfo:function(){var e=this;this.tableData=[],this.$axios.post(o.l,{productId:this.productId,url:l.c}).then(function(t){t.data.data.forEach(function(t,n){t.btnStyle="primary",e.tableData.push(t)})}).catch(function(e){console.log(e)})},saveMsg:function(e){var t=this;if(e.original_price=Number(e.original_price||0),e.v1=Number(e.v1||0),e.v2=Number(e.v2||0),e.v3=Number(e.v3||0),e.v4=Number(e.v4||0),e.group_price=Number(e.group_price||0),e.min_payment=Number(e.min_payment||0),e.settlement_price=Number(e.settlement_price||0),e.original_price>=e.v1&&e.v1>=e.v2&&e.v2>=e.v3&&e.v3>=e.v4&&e.v4>e.group_price&&e.min_payment<=e.v4){this.btnLoading=!0;var n={};n.id=e.id,n.settlement_price=e.settlement_price,n.original_price=e.original_price,n.v1=e.v1,n.v2=e.v2,n.v3=e.v3,n.v4=e.v4,n.min_payment=e.min_payment,n.group_price=e.group_price,n.url=l.c,n.productId=this.productId,this.$axios.post(o.r,n).then(function(n){t.$message.success(n.data.msg),t.btnLoading=!1,e.btnStyle="success"}).catch(function(e){console.log(e),t.btnLoading=!1})}else this.$message.warning("参数填写有误,请输入正确的参数")}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-breadcrumb",{attrs:{nav:e.nav}}),e._v(" "),n("el-card",{attrs:{"body-style":{padding:"20px 45px"}}},[n("el-table",{attrs:{data:e.tableData,border:""}},[n("el-table-column",{attrs:{prop:"spec",label:"规格",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{label:"结算价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.settlement_price,callback:function(n){e.$set(t.row,"settlement_price",n)},expression:"scope.row.settlement_price"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"原价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.original_price,callback:function(n){e.$set(t.row,"original_price",n)},expression:"scope.row.original_price"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"V1价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.v1,callback:function(n){e.$set(t.row,"v1",n)},expression:"scope.row.v1"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"V2价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.v2,callback:function(n){e.$set(t.row,"v2",n)},expression:"scope.row.v2"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"V3价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.v3,callback:function(n){e.$set(t.row,"v3",n)},expression:"scope.row.v3"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"V4价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.v4,callback:function(n){e.$set(t.row,"v4",n)},expression:"scope.row.v4"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"最低支付价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.min_payment,callback:function(n){e.$set(t.row,"min_payment",n)},expression:"scope.row.min_payment"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"拼店价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.group_price,callback:function(n){e.$set(t.row,"group_price",n)},expression:"scope.row.group_price"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{loading:e.btnLoading,type:t.row.btnStyle},on:{click:function(n){e.saveMsg(t.row)}}},[e._v("保存")])]}}])})],1)],1)],1)},staticRenderFns:[]};var i=n("VU/8")(a,c,!1,function(e){n("9mEA")},"data-v-57f15043",null);t.default=i.exports}});