webpackJsonp([128],{"Ht+1":function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=n("UU1J"),t=n("FMx0"),r=n("tF3a"),o=n("GVVA"),i={components:{vBreadcrumb:t.a,icon:s.a,region:r.a},data:function(){return{form:{name:"",userName:"",mobile:"",type:"1",country:"1",address:"",bankName:"",bankOpening:"",bankCard:"",bankUsername:""},first:"",second:"",detailData:[],btnLoading:!1,isUp:!1,id:"",address:"",areaDisabled:!0,phone:!0,secIds:"",brandList:[],brandIds:[]}},activated:function(){this.getBrandList()},methods:{getRegion:function(e){this.address=e,this.form.provinceCode=this.address[0],this.form.cityCode=this.address[1],this.form.areaCode=this.address[2]},supplierArea:function(){this.areaDisabled=1===this.form.country},checkPhone:function(){if(!/^1[3-8]\d{9}$/.test(this.form.mobile))return this.$message.warning("请输入正确的手机号格式!"),this.phone=!1,!1;this.phone=!0},submitForm:function(e){var a=this;console.log(this.brandIds);var n=this;if(n[e].name)if(n[e].userName)if(n[e].mobile)if(1!=n.form.country||n.form.provinceCode&&n.form.cityCode&&n.form.areaCode)if(n[e].address)if(n.form.bankName)if(n.form.bankOpening)if(n.form.bankCard){if(/^([1-9]{1})(\d{14}|\d{18})$/.test(n.form.bankCard))if(n.form.bankUsername){if(0==n.phone)return!1;n.btnLoading=!0;var s=n[e];s.brandids=this.brandIds,s.telephone=n.first+n.second,o.a.addProductSupplier(s).then(function(e){a.$message.success(e.msg),a.$router.push("/supplierManage"),n.btnLoading=!1}).catch(function(e){console.log(e),n.btnLoading=!1})}else n.$message.warning("请输入持卡人姓名!");else n.$message.warning("请输入合法的银行卡号!")}else n.$message.warning("请输入银行卡号!");else n.$message.warning("请输入请输入开户支行!");else n.$message.warning("请输入银行名称!");else n.$message.warning("请输入详细地址!");else n.$message.warning("请选择供应商地址!");else n.$message.warning("请输入联系方式!");else n.$message.warning("请输入供应商姓名!");else n.$message.warning("请输入供货商名称!")},getBrandList:function(){var e=this;o.a.findProductBrandListNoStop({name:""}).then(function(a){e.brandList=[],a.data.forEach(function(a){e.brandList.push({label:a.name,key:a.id})})}).catch(function(e){console.log(e)})},cancel:function(){this.$router.push("/supplierManage")}}},l={render:function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",[n("v-breadcrumb",{attrs:{nav:["经销商会员管理","供应商管理","添加供应商"]}}),e._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"supplier-box"},[n("el-form",{ref:"form",attrs:{model:e.form}},[n("el-form-item",{attrs:{prop:"name",label:"供应商名称"}},[n("el-input",{attrs:{placeholder:"请输入供应商名称"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"type",label:"供应商类型",placeholder:"请选择"}},[n("el-select",{model:{value:e.form.type,callback:function(a){e.$set(e.form,"type",a)},expression:"form.type"}},[n("el-option",{attrs:{label:"产品供应商",value:"1"}},[e._v("产品供应商")]),e._v(" "),n("el-option",{attrs:{label:"服务供应商",value:"2"}},[e._v("服务供应商")])],1)],1),e._v(" "),n("el-form-item",{attrs:{prop:"userName",label:"供应商姓名"}},[n("el-input",{attrs:{placeholder:"请输入供应商姓名"},model:{value:e.form.userName,callback:function(a){e.$set(e.form,"userName",a)},expression:"form.userName"}})],1),e._v(" "),n("el-form-item",{staticClass:"phone-area",attrs:{prop:"name",label:"联系方式"}},[n("el-input",{staticClass:"small-inp",model:{value:e.first,callback:function(a){e.first=a},expression:"first"}}),e._v(" "),n("el-input",{staticClass:"mid-inp",model:{value:e.second,callback:function(a){e.second=a},expression:"second"}}),e._v(" "),n("div",{staticClass:"intent"},[n("el-input",{on:{blur:e.checkPhone},model:{value:e.form.mobile,callback:function(a){e.$set(e.form,"mobile",a)},expression:"form.mobile"}})],1)],1),e._v(" "),n("el-form-item",{staticClass:"address-item",attrs:{prop:"country",label:"供应商地址"}},[n("el-select",{staticClass:"small-inp",on:{change:e.supplierArea},model:{value:e.form.country,callback:function(a){e.$set(e.form,"country",a)},expression:"form.country"}},[n("el-option",{attrs:{label:"中国",value:"1"}},[e._v("中国")]),e._v(" "),n("el-option",{attrs:{label:"海外",value:"2"}},[e._v("海外")])],1),e._v(" "),n("div",{staticClass:"address-area"},[n("region",{attrs:{regionMsg:e.address,isDisabled:!e.areaDisabled},on:{regionMsg:e.getRegion}})],1),e._v(" "),n("div",{staticClass:"intent"},[n("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.form.address,callback:function(a){e.$set(e.form,"address",a)},expression:"form.address"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{prop:"brandIds",label:"供应产品品类品牌"}},[n("el-transfer",{attrs:{titles:["品牌列表","已选择品牌"],filterable:"","filter-placeholder":"请输入品牌名称",data:e.brandList},model:{value:e.brandIds,callback:function(a){e.brandIds=a},expression:"brandIds"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"供应商账号"}},[n("el-input",{attrs:{placeholder:"请输入银行名称"},model:{value:e.form.bankName,callback:function(a){e.$set(e.form,"bankName",a)},expression:"form.bankName"}}),e._v(" "),n("el-input",{attrs:{placeholder:"请输入开户支行"},model:{value:e.form.bankOpening,callback:function(a){e.$set(e.form,"bankOpening",a)},expression:"form.bankOpening"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"bankCard",label:"卡号"}},[n("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:e.form.bankCard,callback:function(a){e.$set(e.form,"bankCard",a)},expression:"form.bankCard"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"bankUsername",label:"持卡人"}},[n("el-input",{attrs:{placeholder:"请输入持卡人姓名"},model:{value:e.form.bankUsername,callback:function(a){e.$set(e.form,"bankUsername",a)},expression:"form.bankUsername"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"endTime",label:"供应商结算帐期："}},[n("p",[e._v("每月15号")])]),e._v(" "),n("div",{staticClass:"submit-btn"},[n("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(a){e.submitForm("form")}}},[e._v("确认保存")]),e._v(" "),n("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)])],1)},staticRenderFns:[]};var m=n("VU/8")(i,l,!1,function(e){n("QowV")},null,null);a.default=m.exports},QowV:function(e,a){}});