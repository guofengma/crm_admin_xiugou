webpackJsonp([159],{UmFu:function(t,e){},ew9x:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("FMx0"),l=a("UU1J"),r=a("EkIv"),o=(a("0xDb"),a("xnHa")),s=a("GVVA"),i={components:{vBreadcrumb:n.a,icon:l.a,deleteToast:r.a},mixins:[o.b],data:function(){return{tableData:[],tableLoading:!1,height:"",addOrEditMask:!1,isShowDelToast:!1,formLabelWidth:"100px",form:{name:"",status:"",icon:""},delId:"",delUrl:"",delUri:""}},created:function(){},activated:function(){this.getList(this.page.currentPage)},methods:{getList:function(t){var e=this,a={page:t,pageSize:this.page.pageSize,status:e.form.status,name:e.form.name};e.tableLoading=!0,s.a.getProductBrandList(a).then(function(t){e.tableLoading=!1,t.data&&(e.tableData=t.data.data,e.page.totalPage=t.data.totalNum)}).catch(function(t){console.log(t),e.tableLoading=!1})},addBrand:function(){this.$router.push({path:"/addBrand"})},editItem:function(t,e){sessionStorage.setItem("brandId",e),this.$router.push({path:"/editBrand",query:{brandId:e}})},delItem:function(t,e){this.delId=e,this.delUrl="deleteProductBrand",this.isShowDelToast=!0},deleteToast:function(t){this.isShowDelToast=t,this.getList(this.page.currentPage)},resetForm:function(t){this.$refs[t].resetFields(),this.getList(this.page.currentPage)},toProductList:function(t){sessionStorage.setItem("brandId",t),sessionStorage.setItem("flag",2),this.$router.push({path:"/productList",query:{brandId:t,flag:2}})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"brand-manage"},[a("v-breadcrumb",{attrs:{nav:["品牌产品管理","品牌管理"]}}),t._v(" "),a("el-card",{staticStyle:{margin:"10px 0 20px"}},[a("el-form",{ref:"form",attrs:{inline:!0,model:t.form}},[a("el-form-item",{attrs:{prop:"name",label:"品牌名称","label-width":"120"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入品牌名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"status",label:"状态","label-width":"120"}},[a("el-select",{attrs:{placeholder:"全部"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"停用",value:"2"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.getList(1)}}},[t._v("查询")]),t._v(" "),a("el-button",{on:{click:function(e){t.resetForm("form")}}},[t._v("重置")])],1)],1)],1),t._v(" "),a("div",{staticClass:"table-block"},[a("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary"},on:{click:t.addBrand}},[t._v("添加品牌")]),t._v(" "),[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"品牌名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"area",label:"品牌区域",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"品牌LOGO",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.imgUrl,alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"产品数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[[a("span",{staticClass:"color-blue",on:{click:function(a){t.toProductList(e.row.id)}}},[t._v(t._s(e.row.porductNum))])]]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?[t._v("启用")]:t._e(),t._v(" "),2==e.row.status?[t._v("停用")]:t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{"min-width":"100",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(a){t.editItem(e.$index,e.row.id)}}},[t._v("编辑\n                        ")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.delItem(e.$index,e.row.id)}}},[t._v("删除\n                        ")])]}}])})],1)],t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","current-page":t.page.currentPage,layout:"total, prev, pager, next, jumper",total:t.page.totalPage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2),t._v(" "),t.isShowDelToast?a("delete-toast",{attrs:{id:t.delId,url:t.delUrl,uri:t.delUri},on:{msg:t.deleteToast}}):t._e()],1)},staticRenderFns:[]};var c=a("VU/8")(i,d,!1,function(t){a("UmFu")},null,null);e.default=c.exports}});