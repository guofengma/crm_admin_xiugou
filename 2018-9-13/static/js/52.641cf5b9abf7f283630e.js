webpackJsonp([52],{"9ckw":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("FMx0"),o=a("PJh5"),l=a.n(o),n=(a("m6zT"),a("0xDb"),a("xnHa")),s=a("GVVA"),i={components:{vBreadcrumb:r.a},mixins:[n.b],data:function(){return{nav:["拼店店铺管理","店铺管理"],shopLevelArr:[],tableData:[],form:{}}},activated:function(){this.getList(this.page.currentPage),this.getAllStoreStar()},methods:{getAllStoreStar:function(){var e=this;s.a.getAllStoreStar({}).then(function(t){e.shopLevelArr=[],e.shopLevelArr=t.data}).catch(function(e){console.log(e)})},getList:function(e){var t=this,a={name:this.form.name,bonusCount:this.form.bonusCount,storeNumber:this.form.storeNumber,storeStar:this.form.storeStar,maxMoney:this.form.maxTradeMoney,minMoney:this.form.minTradeMoney,startTime:this.form.date?l()(this.form.date[0]).format("YYYY-MM-DD"):"",endTime:this.form.date?l()(this.form.date[1]).format("YYYY-MM-DD"):"",page:e,size:this.page.pageSize};s.a.getStoreList(a).then(function(e){t.tableData=[],e.data&&(t.tableData=e.data.data,t.page.totalPage=e.data.totalNum)}).catch(function(e){console.log(e)})},showInfo:function(e){sessionStorage.setItem("shopInfoId",e.id),this.$router.push({name:"shopInfo",query:{shopInfoId:e.id}})},resetForm:function(e){this.$refs[e].resetFields(),this.form.date="",this.getList(this.page.currentPage)},toUserList:function(e){sessionStorage.setItem("recruitShopId",e.id),this.$router.push({name:"shopMemberManage",query:{recruitShopId:e.id}})}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shop-list"},[a("v-breadcrumb",{attrs:{nav:e.nav}}),e._v(" "),a("el-card",{attrs:{"body-style":{padding:"20px 40px"}}},[a("el-form",{ref:"form",attrs:{model:e.form,inline:"","label-width":"100px"}},[a("el-form-item",{attrs:{prop:"name",label:"店铺名称"}},[a("el-input",{attrs:{placeholder:"请输入店铺名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"storeNumber",label:"店铺ID"}},[a("el-input",{attrs:{placeholder:"请输入店铺ID"},model:{value:e.form.storeNumber,callback:function(t){e.$set(e.form,"storeNumber",t)},expression:"form.storeNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"bonusCount",label:"分红次数"}},[a("el-input",{attrs:{placeholder:"请输入分红次数"},model:{value:e.form.bonusCount,callback:function(t){e.$set(e.form,"bonusCount",t)},expression:"form.bonusCount"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"storeStar",label:"店铺等级"}},[a("el-select",{attrs:{placeholder:"请选择店铺等级"},model:{value:e.form.storeStar,callback:function(t){e.$set(e.form,"storeStar",t)},expression:"form.storeStar"}},e._l(e.shopLevelArr,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"date",label:"创建时间"}},[a("el-date-picker",{attrs:{type:"datetimerange",format:"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"minTradeMoney",label:"交易额"}},[a("el-input",{attrs:{placeholder:"请输入交易额"},model:{value:e.form.minTradeMoney,callback:function(t){e.$set(e.form,"minTradeMoney",t)},expression:"form.minTradeMoney"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"maxTradeMoney",label:"-","label-width":"17px"}},[a("el-input",{attrs:{placeholder:"请输入交易额"},model:{value:e.form.maxTradeMoney,callback:function(t){e.$set(e.form,"maxTradeMoney",t)},expression:"form.maxTradeMoney"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getList(1)}}},[e._v("搜索")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-card",{staticStyle:{"margin-top":"20px"},attrs:{"body-style":{padding:"20px 40px"}}},[a("el-table",{attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",label:"编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"店铺名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"storeNumber",label:"店铺ID",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"starName",label:"店铺等级",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"storeUserName",label:"店长",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"成员数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[[a("span",{staticClass:"color-blue",on:{click:function(a){e.toUserList(t.row)}}},[e._v(e._s(t.row.storeUserNum))])]]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[[e._v(e._s(e._f("formatDate")(t.row.createTime)))]]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"totalTradeVolume",label:"交易总额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonusCount",label:"分红次数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tradeVolume",label:"现交易额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?[e._v("关闭")]:e._e(),e._v(" "),1==t.row.status?[e._v("正常")]:e._e(),e._v(" "),2==t.row.status?[e._v("已缴纳保证金")]:e._e(),e._v(" "),3==t.row.status?[e._v("招募中")]:e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){e.showInfo(t.row)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","current-page":e.page.currentPage,layout:"total, prev, pager, next, jumper",total:e.page.totalPage},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(i,m,!1,function(e){a("y1J4")},"data-v-232fa724",null);t.default=u.exports},y1J4:function(e,t){}});