webpackJsonp([49],{"8YqL":function(e,t){},rpJe:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{vBreadcrumb:o("FMx0").a},data:function(){return{nav:["经销商会员管理","经销商层级管理","降级设置"],mask:!1,title:["每周未登录则","每周交易额是否达标"],index:0,form:{},id:"",row:"",isAjax:!1}},activated:function(){this.row=this.$route.query.MemberRow?JSON.parse(this.$route.query.MemberRow):JSON.parse(sessionStorage.getItem("MemberRow")),this.id=this.row.id},methods:{getDetail:function(){for(var e in this.row)0!=this.row[e]&&null!=this.row[e]&&void 0!=this.row[e]||(this.row[e]="");this.form=this.row},showMask:function(e){this.index=e,this.mask=!0,this.getDetail()},submit:function(e,t){var o=this,s=void 0;switch(t){case 0:s="/admin/dealerLevel/updateDealerLevelDemotionWeekNologinScoreById";break;case 1:s="/admin/dealerLevel/updateDealerLevelDemotionWeekSalesById"}var i=this[e];i.id=this.id;var a=!0,n=!0;0==t?(a=this.isEmpty(i.demotionWeekNologinExp,!1),this.setIsAjax(a)):1==t&&(a=this.isEmpty(i.demotionWeekSalesNum,!0),n=this.isEmpty(i.demotionWeekSalesNumExp,!1),this.setIsAjax(a&&n)),this.isAjax&&this.$axios.post(s,i).then(function(e){o.$message.success(e.data.msg),o.mask=!1}).catch(function(e){console.log(e)})},isEmpty:function(e,t){if(null==e||void 0==e||""==e)return t?this.$message.warning("请输入人数!"):this.$message.warning("请输入数值!"),!1;if(t){return this.setReg(/^[1-9]*[1-9][0-9]*$/,e)}return this.setReg(/^[0-9]+([.]{1}[0-9]{1,2})?$/,e)},setReg:function(e,t){return!!e.test(t)||(this.$message.warning("请输入合法数据!"),!1)},setIsAjax:function(e){this.isAjax=!!e}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"degrade-manage"},[o("v-breadcrumb",{attrs:{nav:e.nav}}),e._v(" "),o("el-card",{staticStyle:{minHeight:"60vh"}},[o("div",{staticClass:"wrap"},[o("div",[o("p",{staticClass:"title"},[e._v("基础设置")]),e._v(" "),o("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(0)}}},[e._v("每周登录要求")]),e._v(" "),o("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(1)}}},[e._v("每周交易额要求")])],1)])]),e._v(" "),o("el-dialog",{attrs:{title:e.title[e.index],visible:e.mask},on:{"update:visible":function(t){e.mask=t}}},[0==e.index?o("el-form",{attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[o("el-form-item",{attrs:{label:"扣除经验值"}},[o("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.demotionWeekNologinExp,callback:function(t){e.$set(e.form,"demotionWeekNologinExp",t)},expression:"form.demotionWeekNologinExp"}}),e._v(" "),o("span",[e._v("分")])],1)],1):e._e(),e._v(" "),1==e.index?o("el-form",{staticClass:"special",attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[o("el-form-item",{attrs:{label:"交易额"}},[o("el-input",{attrs:{placeholder:"请输入金额","auto-complete":"off"},model:{value:e.form.demotionWeekSalesNum,callback:function(t){e.$set(e.form,"demotionWeekSalesNum",t)},expression:"form.demotionWeekSalesNum"}}),e._v(" "),o("span",[e._v("元")])],1),e._v(" "),o("el-form-item",{attrs:{label:"扣除经验值"}},[o("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.demotionWeekSalesNumExp,callback:function(t){e.$set(e.form,"demotionWeekSalesNumExp",t)},expression:"form.demotionWeekSalesNumExp"}}),e._v(" "),o("span",[e._v("分")])],1)],1):e._e(),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit("form",e.index)}}},[e._v("确认保存")]),e._v(" "),o("el-button",{on:{click:function(t){e.mask=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var a=o("VU/8")(s,i,!1,function(e){o("8YqL")},null,null);t.default=a.exports}});