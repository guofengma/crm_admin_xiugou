webpackJsonp([48],{RB8c:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{vBreadcrumb:a("FMx0").a},data:function(){return{nav:["经销商会员管理","经销商层级管理","升级设置"],mask:!1,title:["设置升级经验值","设置必要条件","设置直接邀请条件","设置间接邀请条件","设置个人交易额条件","设置直接交易额条件","设置间接交易额条件","设置连续交易额条件","设置连续交易额频次条件","设置一次性交易条件","代币充值"],index:0,checked:[!1,!1,!1,!1,!1],form:{},id:"",row:"",isAjax:!1}},activated:function(){this.row=this.$route.query.MemberRow?JSON.parse(this.$route.query.MemberRow):JSON.parse(sessionStorage.getItem("MemberRow")),this.id=this.row.id,this.checked=[!1,!1,!1,!1,!1]},methods:{getDetail:function(){for(var e in this.row)0!=this.row[e]&&null!=this.row[e]&&void 0!=this.row[e]||(this.row[e]="");this.form=this.row,this.convert(this.form.upgradeCondition)},showMask:function(e){this.index=e,this.mask=!0,this.getDetail()},submit:function(e,t){var a=this,s=void 0;switch(t){case 0:s="/admin/dealerLevel/updateDealerLevelUpgradeExpById";break;case 1:s="/admin/dealerLevel/updateDealerLevelUpgradeConditionById";break;case 2:s="/admin/dealerLevel/updateDealerLevelUpgradeExpById";break;case 3:s="/admin/dealerLevel/updateDealerLevelUpgradeDirectById";break;case 4:s="/admin/dealerLevel/updateDealerLevelUpgradePerSalesById";break;case 5:s="/admin/dealerLevel/updateDealerLevelUpgradeDirectSalesById";break;case 6:s="/admin/dealerLevel/updateDealerLevelUpgradeIndirectSalesById";break;case 7:s="/admin/dealerLevel/updateDealerLevelUpgradeWeekSalesById";break;case 8:s="/admin/dealerLevel/updateDealerLevelUpgradeWeekSalesFreqById";break;case 9:s="/admin/dealerLevel/updateDealerLevelUpgradeBuyById";break;case 10:s="/admin/dealerLevel/updateDealerLevelUpgradeTokenCoinBuyById"}var r=this[e];r.id=this.id;var l=!0,o=!0,i=!0,c=!0;0==t?(l=this.isEmpty(r.upgradeExp,!1),this.setIsAjax(l)):1==t?(this.isChecked(),this.checked[0]&&(l=this.isEmpty(r.upgradeCondDirectNum,!0)),this.checked[1]&&(o=this.isEmpty(r.upgradeCondIndirectNum,!0)),this.checked[2]&&(i=this.isEmpty(r.upgradeCondPerSales,!1)),this.checked[3]&&(c=this.isEmpty(r.upgradeCondGroupSales,!1)),this.checked[4]?r.upgradeCondBuyGift=1:r.upgradeCondBuyGift=0,this.setIsAjax(l&&o&&i&&c)):2==t?(o=this.isEmpty(r.upgradeDirectPerExp,!1),this.setIsAjax(o)):3==t?(o=this.isEmpty(r.upgradeIndirectPerExp,!1),this.setIsAjax(o)):4==t?(o=this.isEmpty(r.upgradePerSalesOneExp,!1),this.setIsAjax(o)):5==t?(o=this.isEmpty(r.upgradeDirectSalesOneExp,!1),this.setIsAjax(o)):6==t?(o=this.isEmpty(r.upgradeIndirectSalesOneExp,!1),this.setIsAjax(o)):7==t?(l=this.isEmpty(r.upgradeWeekSalesNum,!1),o=this.isEmpty(r.upgradeWeekSalesNumExp,!1),this.setIsAjax(l&&o)):8==t?(l=this.isEmpty(r.upgradeWeekSalesFreq,!0),o=this.isEmpty(r.upgradeWeekSalesFreqExp,!1),this.setIsAjax(l&&o)):9==t?(l=this.isEmpty(r.upgradeBuyNum,!1),o=this.isEmpty(r.upgradeBuyNumExp,!1),this.setIsAjax(l&&o)):10==t&&(o=this.isEmpty(r.upgradeTokenCoinBuyOneExp,!1),this.setIsAjax(o)),this.isAjax&&this.$axios.post(s,r).then(function(e){a.$message.success(e.data.msg),a.mask=!1}).catch(function(e){console.log(e)})},isChecked:function(){var e=0;for(var t in this.checked)this.checked[t]&&(e+=Math.pow(2,t));this.form.upgradeCondition=e},convert:function(e){var t=[];if(e){for(var a=0;;a++){if(!(e/2>=1)){t[a]=1;break}t[a]=e%2,e=parseInt(e/2)}for(var s in t)1==t[s]?this.checked[s]=!0:this.checked[s]=!1}},isEmpty:function(e,t){if(null==e||void 0==e||""==e)return t?this.$message.warning("请输入人数!"):this.$message.warning("请输入参数!"),!1;if(t){return this.setReg(/^[1-9]*[1-9][0-9]*$/,e)}return this.setReg(/^[0-9]+([.]{1}[0-9]{1,2})?$/,e)},setReg:function(e,t){return!!e.test(t)||(this.$message.warning("请输入合法数据!"),!1)},setIsAjax:function(e){this.isAjax=!!e}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"promotion-manage"},[a("v-breadcrumb",{attrs:{nav:e.nav}}),e._v(" "),a("el-card",{staticStyle:{minHeight:"60vh"}},[a("div",{staticClass:"wrap"},[a("div",[a("p",{staticClass:"title"},[e._v("基础设置")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(0)}}},[e._v("设置升级经验值")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(1)}}},[e._v("设置必要条件")])],1),e._v(" "),a("div",[a("p",{staticClass:"title"},[e._v("邀请推荐维度")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(2)}}},[e._v("设置直接邀请条件")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(3)}}},[e._v("设置间接邀请条件")])],1),e._v(" "),a("div",[a("p",{staticClass:"title"},[e._v("交易额维度")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(4)}}},[e._v("设置个人交易额条件")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(5)}}},[e._v("设置直接交易额条件")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(6)}}},[e._v("设置间接交易额条件")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(7)}}},[e._v("设置连续交易额条件")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(8)}}},[e._v("设置连续交易额频次条件")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(9)}}},[e._v("设置一次性交易条件")])],1),e._v(" "),a("div",[a("p",{staticClass:"title"},[e._v("充值")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.showMask(10)}}},[e._v("代币充值")])],1)])]),e._v(" "),a("el-dialog",{attrs:{title:e.title[e.index],visible:e.mask},on:{"update:visible":function(t){e.mask=t}}},[0==e.index?a("el-form",{attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("el-form-item",{attrs:{label:"所需经验设置"}},[a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeExp,callback:function(t){e.$set(e.form,"upgradeExp",t)},expression:"form.upgradeExp"}}),e._v(" "),a("span",[e._v("分")])],1)],1):e._e(),e._v(" "),1==e.index?a("el-form",{staticClass:"special",attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("h3",[e._v("必要条件：")]),e._v(" "),a("el-form-item",[a("el-checkbox",{attrs:{label:"直接邀请人数",value:"0"},model:{value:e.checked[0],callback:function(t){e.$set(e.checked,0,t)},expression:"checked[0]"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeCondDirectNum,callback:function(t){e.$set(e.form,"upgradeCondDirectNum",t)},expression:"form.upgradeCondDirectNum"}}),e._v(" "),a("span",[e._v("人")])],1),e._v(" "),a("el-form-item",[a("el-checkbox",{attrs:{label:"团队邀请人数",value:"1"},model:{value:e.checked[1],callback:function(t){e.$set(e.checked,1,t)},expression:"checked[1]"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeCondIndirectNum,callback:function(t){e.$set(e.form,"upgradeCondIndirectNum",t)},expression:"form.upgradeCondIndirectNum"}}),e._v(" "),a("span",[e._v("人")])],1),e._v(" "),a("el-form-item",[a("el-checkbox",{attrs:{label:"交易额",value:"2"},model:{value:e.checked[2],callback:function(t){e.$set(e.checked,2,t)},expression:"checked[2]"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeCondPerSales,callback:function(t){e.$set(e.form,"upgradeCondPerSales",t)},expression:"form.upgradeCondPerSales"}}),e._v(" "),a("span",[e._v("元")])],1),e._v(" "),a("el-form-item",[a("el-checkbox",{attrs:{label:"团队交易额",value:"3"},model:{value:e.checked[3],callback:function(t){e.$set(e.checked,3,t)},expression:"checked[3]"}}),e._v(" "),a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeCondGroupSales,callback:function(t){e.$set(e.form,"upgradeCondGroupSales",t)},expression:"form.upgradeCondGroupSales"}}),e._v(" "),a("span",[e._v("元")])],1),e._v(" "),a("el-form-item",[a("el-checkbox",{attrs:{label:"购买升级礼包",value:"4"},model:{value:e.checked[4],callback:function(t){e.$set(e.checked,4,t)},expression:"checked[4]"}})],1)],1):e._e(),e._v(" "),2==e.index?a("el-form",{attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("div",{staticClass:"tip"},[e._v("直接邀请1人则获得")]),e._v(" "),a("el-form-item",{attrs:{label:"获得经验值"}},[a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeDirectPerExp,callback:function(t){e.$set(e.form,"upgradeDirectPerExp",t)},expression:"form.upgradeDirectPerExp"}}),e._v(" "),a("span",[e._v("分")])],1)],1):e._e(),e._v(" "),3==e.index?a("el-form",{attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("div",{staticClass:"tip"},[e._v("间接邀请1人则获得")]),e._v(" "),a("el-form-item",{attrs:{label:"获得经验值"}},[a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeIndirectPerExp,callback:function(t){e.$set(e.form,"upgradeIndirectPerExp",t)},expression:"form.upgradeIndirectPerExp"}}),e._v(" "),a("span",[e._v("分")])],1)],1):e._e(),e._v(" "),4==e.index?a("el-form",{attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("div",{staticClass:"tip"},[e._v("个人交易额增加1元，则获得")]),e._v(" "),a("el-form-item",{attrs:{label:"获得经验值"}},[a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradePerSalesOneExp,callback:function(t){e.$set(e.form,"upgradePerSalesOneExp",t)},expression:"form.upgradePerSalesOneExp"}}),e._v(" "),a("span",[e._v("分")])],1)],1):e._e(),e._v(" "),5==e.index?a("el-form",{attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("div",{staticClass:"tip"},[e._v("直接代理交易额增加1元则获得")]),e._v(" "),a("el-form-item",{attrs:{label:"获得经验值"}},[a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeDirectSalesOneExp,callback:function(t){e.$set(e.form,"upgradeDirectSalesOneExp",t)},expression:"form.upgradeDirectSalesOneExp"}}),e._v(" "),a("span",[e._v("分")])],1)],1):e._e(),e._v(" "),6==e.index?a("el-form",{attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("div",{staticClass:"tip"},[e._v("间接代理交易额增加1元则获得")]),e._v(" "),a("el-form-item",{attrs:{label:"获得经验值"}},[a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeIndirectSalesOneExp,callback:function(t){e.$set(e.form,"upgradeIndirectSalesOneExp",t)},expression:"form.upgradeIndirectSalesOneExp"}}),e._v(" "),a("span",[e._v("分")])],1)],1):e._e(),e._v(" "),7==e.index?a("el-form",{attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("h3",{staticClass:"tip"},[e._v("每周要求：")]),e._v(" "),a("el-form-item",{attrs:{label:"交易额"}},[a("el-input",{attrs:{placeholder:"请输入金额","auto-complete":"off"},model:{value:e.form.upgradeWeekSalesNum,callback:function(t){e.$set(e.form,"upgradeWeekSalesNum",t)},expression:"form.upgradeWeekSalesNum"}}),e._v(" "),a("span",[e._v("元")])],1),e._v(" "),a("el-form-item",{attrs:{label:"获得经验值"}},[a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeWeekSalesNumExp,callback:function(t){e.$set(e.form,"upgradeWeekSalesNumExp",t)},expression:"form.upgradeWeekSalesNumExp"}}),e._v(" "),a("span",[e._v("分")])],1)],1):e._e(),e._v(" "),8==e.index?a("el-form",{attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("h3",{staticClass:"tip"},[e._v("每周要求：")]),e._v(" "),a("el-form-item",{attrs:{label:"交易频次"}},[a("el-input",{attrs:{placeholder:"请输入频次","auto-complete":"off"},model:{value:e.form.upgradeWeekSalesFreq,callback:function(t){e.$set(e.form,"upgradeWeekSalesFreq",t)},expression:"form.upgradeWeekSalesFreq"}}),e._v(" "),a("span",[e._v("次")])],1),e._v(" "),a("el-form-item",{attrs:{label:"获得经验值"}},[a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeWeekSalesFreqExp,callback:function(t){e.$set(e.form,"upgradeWeekSalesFreqExp",t)},expression:"form.upgradeWeekSalesFreqExp"}}),e._v(" "),a("span",[e._v("分")])],1)],1):e._e(),e._v(" "),9==e.index?a("el-form",{attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("el-form-item",{attrs:{label:"一次性交易额"}},[a("el-input",{attrs:{placeholder:"请输入金额","auto-complete":"off"},model:{value:e.form.upgradeBuyNum,callback:function(t){e.$set(e.form,"upgradeBuyNum",t)},expression:"form.upgradeBuyNum"}}),e._v(" "),a("span",[e._v("元")])],1),e._v(" "),a("el-form-item",{attrs:{label:"获得经验值"}},[a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeBuyNumExp,callback:function(t){e.$set(e.form,"upgradeBuyNumExp",t)},expression:"form.upgradeBuyNumExp"}}),e._v(" "),a("span",[e._v("分")])],1)],1):e._e(),e._v(" "),10==e.index?a("el-form",{attrs:{"label-width":"120px"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("div",{staticClass:"tip"},[e._v("充值1枚代币，则获得")]),e._v(" "),a("el-form-item",{attrs:{label:"获得经验值"}},[a("el-input",{attrs:{placeholder:"请输入数值","auto-complete":"off"},model:{value:e.form.upgradeTokenCoinBuyOneExp,callback:function(t){e.$set(e.form,"upgradeTokenCoinBuyOneExp",t)},expression:"form.upgradeTokenCoinBuyOneExp"}}),e._v(" "),a("span",[e._v("分")])],1)],1):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit("form",e.index)}}},[e._v("确认保存")]),e._v(" "),a("el-button",{on:{click:function(t){e.mask=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,r,!1,function(e){a("VUWg")},null,null);t.default=l.exports},VUWg:function(e,t){}});