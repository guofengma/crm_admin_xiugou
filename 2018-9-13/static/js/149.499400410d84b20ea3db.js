webpackJsonp([149],{LQvG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("FMx0"),i=a("UU1J"),r=a("EkIv"),o=(a("0xDb"),a("19nM"),a("xnHa")),l=a("GVVA"),n={components:{vBreadcrumb:s.a,icon:i.a,deleteToast:r.a},mixins:[o.b],data:function(){return{tableData:[],type:"",height:"",addMask:!1,editMask:!1,isShowDelToast:!1,formLabelWidth:"100px",form:{param:""},title:"添加产品详细参数",id:"",itemId:"",name:"",superiorName:"",className:"",itype:"",delId:66,delUrl:"http://api",delUri:""}},created:function(){},activated:function(){this.name=this.$route.query.name||JSON.parse(sessionStorage.getItem("productDetailParam").name),this.id=this.$route.query.id||JSON.parse(sessionStorage.getItem("productDetailParam").id),this.type=this.$route.query.type||JSON.parse(sessionStorage.getItem("productDetailParam").type),this.superiorName=this.$route.query.superiorName||JSON.parse(sessionStorage.getItem("productDetailParam").superiorName),this.className=this.$route.query.className||JSON.parse(sessionStorage.getItem("productDetailParam").className),this.getList(this.page.currentPage)},methods:{getList:function(t){var e=this,a={id:this.id};l.a.queryProductCategoryParamList(a).then(function(t){e.tableData=[],e.tableData=t.data}).catch(function(t){console.log(t)})},addClassify:function(){this.addMask=!0,this.form.param=""},addOrEdit:function(t){var e=this,a={};a.param=this[t].param,a.categoryId=this.id,a.param?(this.btnLoading=!0,l.a.addProductCategoryParam(a).then(function(t){e.btnLoading=!1,e.addMask=!1,e.editMask=!1,e.getList(e.page.currentPage)}).catch(function(t){console.log(t)})):this.$message.warning("请输入类目名称!")},delItem:function(t){this.delId=t,this.delUrl="deleteProductCategoryParam",this.isShowDelToast=!0},deleteToast:function(t){this.isShowDelToast=t,this.getList(this.page.currentPage)},cancel:function(){this.addMask=!1,this.editMask=!1,this.getList(this.page.currentPage)}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"second-classify"},[a("v-breadcrumb",{attrs:{nav:["品牌产品管理","产品分类管理",t.className,t.superiorName,t.name]}}),t._v(" "),a("div",{staticClass:"table-block"},[a("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary"},on:{click:t.addClassify}},[t._v("添加详细参数")]),t._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{type:"index",label:"编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"param",label:"参数名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.delItem(e.row.id)}}},[t._v("删除")])]}}])})],1)]],2),t._v(" "),a("el-dialog",{attrs:{title:t.title,visible:t.addMask},on:{"update:visible":function(e){t.addMask=e}}},[a("el-form",{model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[a("el-form-item",{attrs:{label:"参数名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.param,callback:function(e){t.$set(t.form,"param",e)},expression:"form.param"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addOrEdit("form")}}},[t._v("确 认")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("取 消")])],1)],1),t._v(" "),t.isShowDelToast?a("delete-toast",{attrs:{id:t.delId,url:t.delUrl,uri:t.delUri},on:{msg:t.deleteToast}}):t._e()],1)},staticRenderFns:[]};var c=a("VU/8")(n,d,!1,function(t){a("O3BF")},null,null);e.default=c.exports},O3BF:function(t,e){}});