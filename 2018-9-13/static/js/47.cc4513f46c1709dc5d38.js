webpackJsonp([47],{THKc:function(t,a){},kj84:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o={};e.d(o,"getHotWordsByPage",function(){return n}),e.d(o,"getHotWordsById",function(){return l}),e.d(o,"addHotWord",function(){return c}),e.d(o,"deleteHotWordsById",function(){return u}),e.d(o,"updateHotWordsStatusById",function(){return m}),e.d(o,"updateHotWordsById",function(){return p});var s=e("FMx0"),i=e("UU1J"),d=e("0xDb"),r=e.n(d),n="/admin/hotWord/getHotWordsByPage",l="/admin/hotWord/getHotWordsById",c="/admin/hotWord/addHotWord",u="/admin/hotWord/deleteHotWordsById",m="/admin/hotWord/updateHotWordsStatusById",p="/admin/hotWord/updateHotWordsById",g=e("xnHa"),f={components:{vBreadcrumb:s.a,icon:i.a},mixins:[g.b],data:function(){return{p:{addHotWord:!1,updateHotWordsStatusById:!1,updateHotWordsById:!1,deleteHotWordsById:!1},isShowOperate:!0,editForm:{wordName:"",rank:""},addForm:{wordName:"",rank:""},addMask:!1,editMask:!1,id:"",itemId:"",tableData:[],height:"",tipsMask:!1,info:"",form:{wordName:""},isShowDelToast:!1,btnLoading:!1}},created:function(){var t=window.screen.availHeight-520;this.height=t,this.pControl()},activated:function(){this.getList(),this.pControl()},methods:{pControl:function(){for(var t in this.p)this.p[t]=r.a.pc(o[t]);this.p.updateHotWordsStatusById||this.p.updateHotWordsById||this.p.deleteHotWordsById||(this.isShowOperate=!1)},getList:function(t){var a=this,e={page:t,wordName:a.form.wordName};e.url=n,a.tableLoading=!0,a.$axios.post("/admin/hotWord/getHotWordsByPage",e).then(function(t){200==t.data.code?(a.tableLoading=!1,a.tableData=t.data.data.data,a.page.totalPage=t.data.data.resultCount):(a.$message.warning(t.data.msg),a.tableLoading=!1)}).catch(function(t){a.tableLoading=!1,console.log(t)})},addHotWord:function(){this.addMask=!0,this.addForm.wordName="",this.addForm.rank="",this.itype="add"},editItem:function(t){this.editMask=!0,this.editForm=t,this.itemId=t.id,this.itype="edit"},addOrEdit:function(t){var a=this,e="",o={};o.wordName=this[t].wordName,o.rank=this[t].rank,o.wordName?o.rank?("add"==this.itype?(e="/admin/hotWord/addHotWord",o.url=c):(e="/admin/hotWord/updateHotWordsById",o.id=this.itemId,o.url=p),this.btnLoading=!0,this.$axios.post(e,o).then(function(t){200==t.data.code?(a.$message.success(t.data.msg),a.btnLoading=!1,a.addMask=!1,a.editMask=!1,a.getList(a.page.currentPage)):(a.btnLoading=!1,a.$message.warning(t.data.msg),a.getList(a.page.currentPage))}).catch(function(t){console.log(t)})):this.$message.warning("请输入排序数值!"):this.$message.warning("请输入关键词!")},upStatusItem:function(t,a){this.tipsMask=!0,1==a&&(this.info="确定开启？"),2==a&&(this.info="确定关闭？"),3==a&&(this.info='确定删除"'+t.wordName+'"关键词？'),this.status=a,this.id=t.id},oprSure:function(){var t=this,a={id:t.id},e="";1!=t.status&&2!=t.status||(a.url=m,e="/admin/hotWord/updateHotWordsStatusById",1==t.status?a.status=1:a.status=0),3==t.status&&(a.url=u,e="/admin/hotWord/deleteHotWordsById"),t.btnLoading=!0,t.$axios.post(e,a).then(function(a){200==a.data.code?(t.tipsMask=!1,t.$message.success(a.data.msg),t.getList(t.page.currentPage),t.btnLoading=!1):(t.tipsMask=!1,t.$message.warning(a.data.msg),t.btnLoading=!1)}).catch(function(a){console.log(a),t.btnLoading=!1,t.tipsMask=!1})},resetForm:function(t){this.$refs[t].resetFields(),this.form.wordName="",this.getList(this.page.currentPage)},cancel:function(){this.addMask=!1,this.editMask=!1,this.getList(this.page.currentPage)}}},h={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"keywords"},[e("v-breadcrumb",{attrs:{nav:["运营管理","广告位管理","搜索热门搜索关键词"]}}),t._v(" "),e("transition",{attrs:{wordName:"move",appear:""}},[e("el-card",{staticStyle:{margin:"10px 0 20px"}},[e("el-form",{ref:"form",attrs:{inline:!0,model:t.form}},[e("el-form-item",{attrs:{prop:"wordName",label:"关键词","label-width":"120"}},[e("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键词搜索"},model:{value:t.form.wordName,callback:function(a){t.$set(t.form,"wordName",a)},expression:"form.wordName"}})],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.getList(1)}}},[t._v("查询")]),t._v(" "),e("el-button",{on:{click:function(a){t.resetForm("form")}}},[t._v("重置")])],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"table-block"},[t.p.addHotWord?e("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary"},on:{click:t.addHotWord}},[t._v("添加搜索关键词")]):t._e(),t._v(" "),[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:t.height,border:""}},[e("el-table-column",{attrs:{type:"index",label:"编号",width:"60",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"wordName",label:"关键词",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"clickRate",label:"活动点击数",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"rank",label:"排序",align:"center"}}),t._v(" "),t.isShowOperate?e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t.p.updateHotWordsStatusById&&0==a.row.status?e("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){t.upStatusItem(a.row,1)}}},[t._v("开启\n                        ")]):t._e(),t._v(" "),t.p.updateHotWordsStatusById&&1==a.row.status?e("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){t.upStatusItem(a.row,2)}}},[t._v("关闭\n                        ")]):t._e(),t._v(" "),t.p.updateHotWordsById?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.editItem(a.row)}}},[t._v("编辑\n                        ")]):t._e(),t._v(" "),t.p.deleteHotWordsById?e("el-button",{staticStyle:{width:"80px"},attrs:{type:"danger",size:"small"},on:{click:function(e){t.upStatusItem(a.row,3)}}},[t._v(" 删除\n                        ")]):t._e()]}}])}):t._e()],1)],t._v(" "),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{background:"","current-page":t.page.currentPage,layout:"total, prev, pager, next, jumper",total:t.page.totalPage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],2),t._v(" "),e("el-dialog",{attrs:{title:"添加热搜关键词",visible:t.addMask},on:{"update:visible":function(a){t.addMask=a}}},[e("el-form",{attrs:{"label-width":"100px"},model:{value:t.addForm,callback:function(a){t.addForm=a},expression:"addForm"}},[e("el-form-item",{attrs:{label:"关键词"}},[e("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入关键词"},model:{value:t.addForm.wordName,callback:function(a){t.$set(t.addForm,"wordName",a)},expression:"addForm.wordName"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"排序"}},[e("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入排序数值"},model:{value:t.addForm.rank,callback:function(a){t.$set(t.addForm,"rank",a)},expression:"addForm.rank"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.addOrEdit("addForm")}}},[t._v("确认保存")]),t._v(" "),e("el-button",{on:{click:t.cancel}},[t._v("取 消")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"修改热搜关键词",visible:t.editMask},on:{"update:visible":function(a){t.editMask=a}}},[e("el-form",{attrs:{"label-width":"100px"},model:{value:t.editForm,callback:function(a){t.editForm=a},expression:"editForm"}},[e("el-form-item",{attrs:{label:"关键词"}},[e("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入关键词"},model:{value:t.editForm.wordName,callback:function(a){t.$set(t.editForm,"wordName",a)},expression:"editForm.wordName"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"排序"}},[e("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入排序数值"},model:{value:t.editForm.rank,callback:function(a){t.$set(t.editForm,"rank",a)},expression:"editForm.rank"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.addOrEdit("editForm")}}},[t._v("确 认")]),t._v(" "),e("el-button",{on:{click:t.cancel}},[t._v("取 消")])],1)],1),t._v(" "),t.tipsMask?e("div",{staticClass:"pwd-mask"},[e("div",{staticClass:"box"},[e("div",{staticClass:"mask-title"},[e("icon",{staticClass:"ico",attrs:{ico:"icon-jinggao"}}),t._v("\n                温馨提示\n            ")],1),t._v(" "),e("div",{staticClass:"mask-content"},[e("span",{staticClass:"del-tip"},[t._v(t._s(t.info))]),t._v(" "),e("div",{staticClass:"del-btn-group"},[e("el-button",{staticClass:"del-btn",attrs:{loading:t.btnLoading,type:"danger"},on:{click:function(a){t.oprSure(!0)}}},[t._v("确认\n                    ")]),t._v(" "),e("el-button",{on:{click:function(a){t.tipsMask=!1}}},[t._v("取消")])],1)])])]):t._e()],1)},staticRenderFns:[]};var v=e("VU/8")(f,h,!1,function(t){e("THKc")},null,null);a.default=v.exports}});